/**
 * QUICK REFERENCE: Payment & Escrow Component Usage
 * ================================================
 *
 * Copy-paste ready code examples for the most common use cases.
 */

/**
 * EXAMPLE 1: Display Order with Fulfillment Tracking
 * =================================================
 * Use in: Order detail screen, order card, notification
 *
 * ```tsx
 * import { FulfillmentTracker, EscrowStatusBadge } from '@/src/components/payments';
 * import { useOrderStore } from '@/src/store';
 *
 * export function OrderDetailView({ orderId }: { orderId: string }) {
 *   const order = useOrderStore((s) => s.getOrder(orderId));
 *
 *   if (!order) return null;
 *
 *   return (
 *     <ScrollView>
 *       {/* Full fulfillment tracker */}
 *       <FulfillmentTracker
 *         payment={order.payment}
 *         production={order.production}
 *         delivery={order.delivery}
 *         escrow={order.escrow}
 *         orderId={order.id}
 *       />
 *
 *       {/* Compact escrow status */}
 *       <View style={{ marginVertical: 16 }}>
 *         <EscrowStatusBadge
 *           status={order.escrow.status}
 *           variant=\"large\"
 *           showDescription
 *         />
 *       </View>
 *     </ScrollView>
 *   );
 * }
 * ```
 *\n * EXAMPLE 2: Payment Method Selection in Checkout\n * =============================================\n * Use in: Checkout/cart screen\n *\n * ```tsx\n * import { PaymentMethodSelector } from '@/src/components/payments';\n * import { useCartStore } from '@/src/store';\n * import { ordersApi } from '@/src/api';\n *\n * export function CheckoutPayment() {\n *   const { cart } = useCartStore();\n *   const router = useRouter();\n *\n *   return (\n *     <PaymentMethodSelector\n *       amount={cart.total}\n *       currency=\"USD\"\n *       walletBalance={1000} // TODO: fetch from user store\n *       onSelect={async (method) => {\n *         try {\n *           // API creates order + escrow + payment\n *           const order = await ordersApi.checkoutCart({\n *             cartId: cart.id,\n *             paymentMethod: method,\n *           });\n *\n *           // Clear cart\n *           useCartStore().clear();\n *\n *           // Go to order detail\n *           router.push(`/orders/${order.id}`);\n *         } catch (error) {\n *           Alert.alert('Payment Failed', error.message);\n *         }\n *       }}\n *     />\n *   );\n * }\n * ```\n *\n * EXAMPLE 3: Delivery Confirmation Flow\n * ===================================\n * Use in: Order detail screen when payment held & delivery pending\n *\n * ```tsx\n * import { DeliveryConfirmation } from '@/src/components/payments';\n * import { useOrderStore } from '@/src/store';\n * import { ordersApi } from '@/src/api';\n *\n * export function OrderDeliveryFlow({ orderId }: { orderId: string }) {\n *   const order = useOrderStore((s) => s.getOrder(orderId));\n *   const [confirming, setConfirming] = useState(false);\n *\n *   // Only show if payment held and delivery pending\n *   const shouldShow =\n *     order?.payment.status === 'held' && order?.delivery.status === 'pending';\n *\n *   if (!shouldShow) return null;\n *\n *   return (\n *     <DeliveryConfirmation\n *       orderId={order.id}\n *       escrowId={`escrow_${order.id}`}\n *       amount={order.total}\n *       currency={order.currency}\n *       sellerName=\"Seller Name\"\n *       onConfirm={async (proofUrl) => {\n *         setConfirming(true);\n *         try {\n *           // API confirms delivery and releases escrow\n *           const updated = await ordersApi.confirmDelivery({\n *             orderId: order.id,\n *             escrowId: `escrow_${order.id}`,\n *             proofUrl,\n *           });\n *\n *           // Update store\n *           useOrderStore().updateOrder(updated);\n *\n *           Alert.alert('Success', 'Delivery confirmed. Payment released.');\n *         } catch (error) {\n *           Alert.alert('Error', 'Failed to confirm delivery.');\n *         } finally {\n *           setConfirming(false);\n *         }\n *       }}\n *     />\n *   );\n * }\n * ```\n *\n * EXAMPLE 4: Dispute Resolution Flow\n * ================================\n * Use in: Separate dispute screen, triggered from order detail\n *\n * ```tsx\n * import { DisputeResolution } from '@/src/components/payments';\n * import { useEscrowStore } from '@/src/store';\n * import { paymentsApi } from '@/src/api';\n *\n * export function DisputeFlowScreen({ orderId }: { orderId: string }) {\n *   const router = useRouter();\n *\n *   return (\n *     <DisputeResolution\n *       orderId={orderId}\n *       escrowId={`escrow_${orderId}`}\n *       amount={40000}\n *       currency=\"USD\"\n *       sellerName=\"Seller\"\n *       buyerName=\"You\"\n *       onInitiate={async (payload) => {\n *         try {\n *           // API initiates dispute\n *           const dispute = await paymentsApi.initiateDispute({\n *             orderId,\n *             ...payload,\n *           });\n *\n *           // Update escrow store\n *           useEscrowStore().disputeEscrow(dispute.escrowId, payload.reason);\n *\n *           Alert.alert('Dispute Submitted', 'We\\'ll review and contact you within 5 days.');\n *           router.back();\n *         } catch (error) {\n *           Alert.alert('Error', 'Failed to submit dispute.');\n *         }\n *       }}\n *       onCancel={() => router.back()}\n *     />\n *   );\n * }\n * ```\n *\n * EXAMPLE 5: Order List with Status Filtering\n * =========================================\n * Use in: Orders tab\n *\n * ```tsx\n * import { FlatList, View, Text, TouchableOpacity } from 'react-native';\n * import { useOrderStore } from '@/src/store';\n * import { useRouter } from 'expo-router';\n *\n * export function OrdersList() {\n *   const orders = useOrderStore((s) => s.orders);\n *   const [filter, setFilter] = useState<'all' | 'pending' | 'completed'>('all');\n *   const router = useRouter();\n *\n *   const filtered = orders.filter((o) => {\n *     if (filter === 'all') return true;\n *     return o.status === filter;\n *   });\n *\n *   const renderOrder = ({ item }: { item: Order }) => (\n *     <TouchableOpacity\n *       onPress={() => router.push(`/orders/${item.id}`)}\n *       style={styles.card}\n *     >\n *       <Text style={styles.id}>Order #{item.id.slice(0, 8)}</Text>\n *       <Text style={styles.amount}>{item.currency} {item.total}</Text>\n *\n *       {/* Quick status indicators */}\n *       <View style={styles.statusRow}>\n *         <StatusDot status={item.payment.status} label=\"Payment\" />\n *         <StatusDot status={item.production.status} label=\"Production\" />\n *         <StatusDot status={item.delivery.status} label=\"Delivery\" />\n *         <StatusDot status={item.escrow.status} label=\"Escrow\" />\n *       </View>\n *     </TouchableOpacity>\n *   );\n *\n *   return (\n *     <View>\n *       {/* Filter buttons */}\n *       <View style={styles.filters}>\n *         {['all', 'pending', 'completed'].map((f) => (\n *           <TouchableOpacity\n *             key={f}\n *             style={[styles.btn, filter === f && styles.btnActive]}\n *             onPress={() => setFilter(f)}\n *           >\n *             <Text>{f}</Text>\n *           </TouchableOpacity>\n *         ))}\n *       </View>\n *\n *       {/* Orders list */}\n *       <FlatList\n *         data={filtered}\n *         renderItem={renderOrder}\n *         keyExtractor={(item) => item.id}\n *       />\n *     </View>\n *   );\n * }\n * ```\n *\n * EXAMPLE 6: Status-Conditional Rendering\n * ====================================\n * Use in: Any screen that shows different UI based on order state\n *\n * ```tsx\n * function OrderStatusView({ order }: { order: Order }) {\n *   // Payment phase\n *   if (order.payment.status === 'pending') {\n *     return <Text>Waiting for payment...</Text>;\n *   }\n *\n *   if (order.payment.status === 'held') {\n *     return (\n *       <View>\n *         <Text>Payment received and held in escrow</Text>\n *         {order.delivery.status === 'pending' && (\n *           <Text>‚è≥ Waiting for delivery...</Text>\n *         )}\n *       </View>\n *     );\n *   }\n *\n *   if (order.payment.status === 'released') {\n *     return <Text>‚úì Payment released to seller</Text>;\n *   }\n *\n *   if (order.payment.status === 'refunded') {\n *     return <Text>‚Ü© Payment refunded to you</Text>;\n *   }\n *\n *   // Dispute phase\n *   if (order.escrow.status === 'disputed') {\n *     return <Text>‚ö† Order under dispute. We\\'re reviewing.</Text>;\n *   }\n *\n *   return null;\n * }\n * ```\n *\n * EXAMPLE 7: Complete Order Detail Integration\n * =========================================\n * Shows how all components work together\n *\n * ```tsx\n * import { ScrollView, View } from 'react-native';\n * import {\n *   FulfillmentTracker,\n *   EscrowStatusBadge,\n *   DeliveryConfirmation,\n * } from '@/src/components/payments';\n * import { useOrderStore } from '@/src/store';\n * import { ordersApi } from '@/src/api';\n *\n * export function CompleteOrderDetail({ orderId }: { orderId: string }) {\n *   const order = useOrderStore((s) => s.getOrder(orderId));\n *   const [showDelivery, setShowDelivery] = useState(false);\n *\n *   const canConfirmDelivery =\n *     order?.payment.status === 'held' && order?.delivery.status === 'pending';\n *\n *   const canDispute =\n *     order?.status === 'completed' && order?.escrow.status === 'released';\n *\n *   return (\n *     <ScrollView>\n *       {/* 1. Fulfillment tracking */}\n *       <FulfillmentTracker\n *         payment={order.payment}\n *         production={order.production}\n *         delivery={order.delivery}\n *         escrow={order.escrow}\n *         orderId={order.id}\n *       />\n *\n *       {/* 2. Escrow status */}\n *       <View style={styles.escrowContainer}>\n *         <EscrowStatusBadge\n *           status={order.escrow.status}\n *           variant=\"large\"\n *           showDescription\n *         />\n *       </View>\n *\n *       {/* 3. Order items */}\n *       {order.items?.map((item) => (\n *         <OrderItemCard key={item.id} item={item} />\n *       ))}\n *\n *       {/* 4. Delivery confirmation (conditional) */}\n *       {canConfirmDelivery && (\n *         !showDelivery ? (\n *           <TouchableOpacity\n *             style={styles.deliveryButton}\n *             onPress={() => setShowDelivery(true)}\n *           >\n *             <Text>üì¶ Confirm Delivery</Text>\n *           </TouchableOpacity>\n *         ) : (\n *           <DeliveryConfirmation\n *             orderId={order.id}\n *             escrowId={`escrow_${order.id}`}\n *             amount={order.total}\n *             onConfirm={async (proofUrl) => {\n *               await ordersApi.confirmDelivery({\n *                 orderId: order.id,\n *                 proofUrl,\n *               });\n *               setShowDelivery(false);\n *             }}\n *             onCancel={() => setShowDelivery(false)}\n *           />\n *         )\n *       )}\n *\n *       {/* 5. Action buttons */}\n *       <View style={styles.actions}>\n *         <TouchableOpacity style={styles.btn}>\n *           <Text>üìû Contact Support</Text>\n *         </TouchableOpacity>\n *\n *         {canDispute && (\n *           <TouchableOpacity\n *             style={[styles.btn, styles.btnDanger]}\n *             onPress={() => router.push(`/payments/dispute?orderId=${order.id}`)}\n *           >\n *             <Text>‚ö† Report Issue</Text>\n *           </TouchableOpacity>\n *         )}\n *       </View>\n *     </ScrollView>\n *   );\n * }\n * ```\n *\n * EXAMPLE 8: Custom Hook for Payment Flow\n * ====================================\n * Create a reusable hook for payment logic\n *\n * ```tsx\n * // hooks/usePaymentFlow.ts\n * import { useCartStore, useOrderStore, useEscrowStore } from '@/src/store';\n * import { ordersApi, nativPayClient } from '@/src/api';\n *\n * export function usePaymentFlow() {\n *   const [isLoading, setIsLoading] = useState(false);\n *   const [error, setError] = useState<string | null>(null);\n *\n *   const checkout = async (method: 'card' | 'transfer' | 'wallet') => {\n *     setIsLoading(true);\n *     setError(null);\n *\n *     try {\n *       const { cart } = useCartStore();\n *\n *       // 1. Create order with escrow\n *       const order = await ordersApi.checkoutCart({\n *         cartId: cart.id,\n *         paymentMethod: method,\n *       });\n *\n *       // 2. Update stores\n *       useOrderStore().addOrder(order);\n *       useCartStore().clear();\n *\n *       return order;\n *     } catch (err) {\n *       const message = err instanceof Error ? err.message : 'Payment failed';\n *       setError(message);\n *       throw err;\n *     } finally {\n *       setIsLoading(false);\n *     }\n *   };\n *\n *   const confirmDelivery = async (\n *     orderId: string,\n *     escrowId: string,\n *     proofUrl: string\n *   ) => {\n *     setIsLoading(true);\n *     setError(null);\n *\n *     try {\n *       // 1. Confirm with API\n *       const updated = await ordersApi.confirmDelivery({\n *         orderId,\n *         escrowId,\n *         proofUrl,\n *       });\n *\n *       // 2. Update stores\n *       useOrderStore().updateOrder(updated);\n *       useEscrowStore().releaseEscrow(escrowId);\n *\n *       return updated;\n *     } catch (err) {\n *       const message = err instanceof Error ? err.message : 'Confirmation failed';\n *       setError(message);\n *       throw err;\n *     } finally {\n *       setIsLoading(false);\n *     }\n *   };\n *\n *   return { checkout, confirmDelivery, isLoading, error };\n * }\n *\n * // Usage in component\n * const { checkout } = usePaymentFlow();\n * <PaymentMethodSelector\n *   amount={cartTotal}\n *   onSelect={checkout}\n * />\n * ```\n *\n * EXAMPLE 9: Error Handling in Payment Flow\n * =======================================\n *\n * ```tsx\n * async function handlePaymentError(error: any) {\n *   if (error.code === 'INSUFFICIENT_FUNDS') {\n *     Alert.alert('Insufficient Balance', 'Top up your wallet or use another payment method.');\n *   } else if (error.code === 'ESCROW_FAILED') {\n *     Alert.alert('Escrow Error', 'Payment processing failed. Please try again.');\n *   } else if (error.code === 'NETWORK_ERROR') {\n *     Alert.alert('Connection Error', 'Check your internet and try again.');\n *   } else {\n *     Alert.alert('Payment Failed', error.message || 'Unknown error');\n *   }\n * }\n * ```\n *\n * EXAMPLE 10: Testing Components with Mock Data\n * ==========================================\n *\n * ```tsx\n * // __tests__/FulfillmentTracker.test.tsx\n * import { render } from '@testing-library/react-native';\n * import { FulfillmentTracker } from '@/src/components/payments';\n *\n * const mockOrder = {\n *   payment: { status: 'held' },\n *   production: { status: 'in_progress' },\n *   delivery: { status: 'pending' },\n *   escrow: { status: 'locked' },\n * };\n *\n * it('displays all four status dimensions', () => {\n *   const { getByText } = render(\n *     <FulfillmentTracker {...mockOrder} orderId=\"order_123\" />\n *   );\n *\n *   expect(getByText('Payment')).toBeTruthy();\n *   expect(getByText('Production')).toBeTruthy();\n *   expect(getByText('Delivery')).toBeTruthy();\n *   expect(getByText('Escrow')).toBeTruthy();\n * });\n * ```\n */\n